add_library(ivm_isolated_v8 STATIC)
target_sources(ivm_isolated_v8
	PRIVATE
		agent/host.cc
		agent/lock.cc
		evaluation/module.cc
		evaluation/script.cc
		function.cc
		handle/remote_handle_list.cc
		handle/remote_handle.cc
		platform/clock.cc
		platform/foreground_runner.cc
		platform/handle.cc
		platform/job_handle.cc
		platform/platform.cc
		realm.cc
	PUBLIC FILE_SET CXX_MODULES FILES
		_module.cc
		agent/include/agent.cc
		agent/include/fwd.cc
		agent/include/host.cc
		agent/include/lock.cc
		evaluation/include/module_action.cc
		evaluation/include/module.cc
		evaluation/include/origin.cc
		evaluation/include/script.cc
		handle/include/collected_handle.cc
		handle/include/remote_handle_list.cc
		handle/include/remote_handle.cc
		handle/include/remote.cc
		include/cluster.cc
		include/function.cc
		include/lock.cc
		include/realm.cc
		platform/include/clock.cc
		platform/include/foreground_runner.cc
		platform/include/platform.cc
		platform/include/task_runner.cc
		scheduler.cc
)
target_link_libraries(ivm_isolated_v8 PRIVATE
	Boost::boost
	ivm_embedded_common_v8
	ivm_embedded_v8
	ivm_utility
	ivm_value
)
